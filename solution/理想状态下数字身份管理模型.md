## 理想状态下数字身份管理模型

##### v0.1.0
##### 作者：中成才


**身份是人们访问一切服务的钥匙**。通常，用户需要通过其身份来获得各项所需的服务，**公共服务机构**和**企业单位**会根据公民的真实身份来确定**是否应当为其提供**以及**提供何种服务**。即遵循 _**"身份 -> 服务"**_ 这样一个基本应用范式。  
在这些传统的实施例中，各个不同的服务提供方都需要储存用户的详细身份信息，这导致了人们身份数据的**副本** _广泛分布于相当多个不同单位实体_ 的档案库或数据库中。任何一个单位实体的数据泄露即造成用户信息泄露，这极大地增加了公民隐私泄露的风险。而泄露后潜在的 _二次散播风险_，也难以通过技术手段进行有效的**阻断**和**消除**。

随着互联网的全面普及和对经济、民生活动的全方位渗透，人们越来越适应并依赖于通过网络获取信息和服务。互联网企业通过网络获得了巨大的红利，传统企业纷纷向互联网转型，公共服务机构也越来越有意愿将各项服务功能互联网化，以提高效率并降低成本。  
根据《中华人民共和国网络安全法》对用户**实名制**（即：网络运营者应当要求用户提供真实身份信息）的要求，在互联网环境中，亦同样遵循 _**"身份 -> 服务"**_ 范式。人们通过绑定了身份的账户登录使用网银、通讯软件等；而不法分子也通过大量盗取的账户信息，伪装成别人的身份，从事网络违法犯罪活动。  
由于网络的特殊性，信息扩散的速度、广度和隐蔽性都远超以往（的任何途径）。伴随着企业数据库被盗、用户信息被曝光、传播、售卖等事件的屡次发生，人们对**隐私保护**的呼声也日渐高涨。而作为钥匙的用户账户和身份数据，对**私密性**的需求是不言而喻的，是网络安全所要解决的首要课题。

在传统实施例中，实体身份证作为公民身份信息的载体和实施实名制过程的必备材料，其弊端凸显。当身份管理成为许多问题的根源和焦点，一种**数字化、强隐私、简单便捷而又多用途**的公民身份解决方案是迫切需要的。


#### 一、模型概述

受区块链及密码学技术启发，本文提出一套全新的 _理想化**数字身份管理模型**_（简称：**身份模型**），以实现对用户（公民）身份 _全场景全业务的数字化综合管理与应用_。

_(Ａ). 本**身份模型**暂简述为下述用例：_<br>
- **ID（标识符）化**。将各独立公民身份抽象为一个个独立标识符 ID，各系统围绕 ID 运转，_本模型的构建也围绕 ID 展开_；
- ID 基于公私钥加密技术生成，由用户去公安政务窗口申请数字身份，公安信息系统将 ID 写入区块链；
    > ID 除用于标识唯一身份外，还要用于签名、验证功能，以替代传统的账号密码登录模式：_**ID即账号，私钥即密码**_；<br>
    > 用户在终端手机上创建私钥，并将公钥输出到公安服务接口；<br>
    > 公安信息系统将 ID 绑定到旧系统中的公民身份数据库（其中包含了人脸、声纹等用于验证的信息）；<br>
    > ID 可随时变更（由用户申请），变更记录对公安透明，对外无痕。
- 应用区块链技术作为连接各服务系统的桥梁；
    > 区块链作为轻量级辅助网络，低侵入地连接已有的各服务提供方系统；<br>
    > 本方案的实施可弹性渐次进行。
- 区块链系统上记录 ID 的生命周期、公共安全评级、信用评级等记录，以及信息查询接口的指向 **(ID -> URI)** 映射；
    > ID 的生命周期包括：产生、更新、冻结、注销。冻结状态通常为用户自助申请：发现私钥被盗用、遗失或仅为防止 ID 被跟踪等。申请操作可使用手机在线执行；<br>
    > 注意：区块链中**不应**包含公民身份证上的基本信息。但公共安全评级、信用评级等易对社会造成不良影响的信息理应广而告之或易被查询；<br>
    > (ID -> URI) 表示用户（ID）详细信息的存储位置（URI），通常是其户籍所在地的公安局信息服务接口；<br>
    > 区块链基于 UTXO 模型，UTXO 本质上是一组可追溯的状态转换记录，适用于记录事物的变化，即：公民的最新状况。
- 各市县级公安服务接口以独立子链的形式接入该区块链网络；
    > 虽然公安机关从宏观上看是中心化的，但实际上分布于各地方县市，也是个分散化系统；<br>
    > 结构清晰，易于维护；<br>
    > 不同子链间可互不干扰地并行处理业务，提高整体吞吐量和运行效率；<br>
    > _(ID -> URI)_ 的 URI 根据实际行政区域不同可能不同。
- 公安节点写入数据，其它节点只读同步；
    > 公安信息系统将极少信息公开发布到链上，同时保障公民隐私和公安的绝对控制权；<br>
    > 该区块链的性质属于　_**联盟链和公链的混合**_，完全公开的链可极大地发挥本系统的功能优势（即使单纯以联盟链形式部署，合作单位只能理论可信，而并不事实可信）；<br>
    > 其它节点分布于公共服务机构、医院、学校、企业单位和个人等任何需要核实身份的单位。
- 服务提供方通过本地节点数据，完成部分业务操作；
    > 可执行简单的查询和有效性验证操作；<br>
    > 这部分操作往往较常用和频繁，本地操作可极大地减轻公安服务接口的访问压力；<br>
    > 保证和证明数据的准确性是区块链的基本能力，同时可保持数据是最新的；<br>
    > 本地可运行全节点或轻节点。
- 服务提供方通过　URI　执行的数据查询或操作，可能需要用户授权；
    > 请参见后文`业务授权`部分；<br>
    > 授权流程以用户通过手机与公安服务接口直接交互认证为基础；<br>
    > 根据不同的安全级别，认证方式会有不同，包括私钥、人脸、声纹等。
- 服务提供方通常有独立的 id 系统，可与身份 ID 绑定以实现实名制；
    > 服务提供方若在后续业务中发现 ID 已被链上状态置为失效，可从公安服务接口请求刷新到新 ID（这需要用户授权）；<br>
    > 公安可反查服务提供方调取用户资料。
- 各服务提供方可加入该区块链网络，以实现全网各业务实体互连接。
    > 将本模型泛化推广。


_(B). 本模型基于下述元逻辑构建：_<br>
    _**<h4>用户持 ID，业务问公安，公安管理数据。</h4>**_

* _说明：_<br>
1. 用户仅需持有 ID。在访问任何服务时，仅需出示该 ID；
    > ID 通过向公安机关申请获得；<br>
    > ID 的持有方式：手机 TEE + App。
2. 服务提供方在用户申请服务时，如果需要用户的详细资料，应当向 _公安服务接口_ 申请检索这些数据。公安服务接口有选择地同意、模糊或拒绝提供各具体条目的数据；
    > 用户若对数据访问或操作请求不知情，可选择拒绝登录或授权；<br>
    > 服务提供方，通常应当独立为用户建立服务 id，并绑定身份 ID。
3. 公安部门通过线上信息系统管理并维护数据，包括但不限于：用户、组织团体或企业的 ID、基本资料、违法犯罪记录、信誉等各项与公共安全有关的信息。
并处理 _服务提供方_ 的业务请求，处理 _用户（公民）_ 的 ID 申请、变更、身份核验、授权等业务操作，以及受理安全警报等。公安服务接口根据服务提供方的**可信度等级**，以及
所申请的 _用户资料_ 的各项具体条目的**私密等级**，以确定在某时限内等待用户执行哪种等级的认证或授权流程，以及确定在认证后输出信息的模糊程度和条目。
    > 由于服务提供方有绑定存储用户的 ID，该 ID 可用于警方在必要时调取用户信息，以满足实名制要求；<br>
    > `模糊信息`，如年龄应该用未成年、青年、中年、老年等代替，地址、住址等的精度以及会话（session）时间间隔都应该有限制。
    
    * 为什么不让用户自己携带模糊信息？模糊信息往往需要更新 -> 何时更新？-> 定时更新？a. 没必要（如果在到达下一次更新时间时无使用需求的话）；b. 增加接口访问压力。因此 _**在需要时**_ 由服务提供方直接询问公安是较优的方案；
    * 公安服务接口应当对 _特定服务方_ 针对模糊信息的询问间隔设置限制（如果最低两周），或者根据上次的询问时间动态调整模糊混淆度，以避免根据变化分析出具体信息；
    * 公安服务接口应当注意避免在综合分析下得出具体信息。例如：某不可信服务提供方如 **商户** 对用户生日的要求，在提供具体日期的时候，就一定不能提供具体出生年份，而是用未成年、青年、中年、老年等模糊信息代替。


_(C). 用户数据的**私密等级**与**业务授权**：_<br>
1. 公开。_任何人_ 可查询/操作；
2. 需要用户授权。涵盖了用户本人的查询/操作；
    > 用户登录/授权服务的方式采用私钥签名机制。即：<br>
    a. 服务方生成一个随机数让用户私钥签名；或者<br>
    b. 由公安接口生成随机数和状态码返回给服务提供方，服务提供方要求用户对该随机数用私钥签名，再经由服务提供者返回给公安以实现登录/授权。
3. 必须本人。
    > 公安接口直接与用户客户端交互，通过人脸、语音声纹等生物识别技术进行活体认证。
    
    * 可由用户自行设置（有默认设置，用户可提高具体条目的私密等级，不可降低于默认值）；
    * **操作**。指：办理变更类业务。


#### 二、模型特点

在本模型框架下，用户（公民）身份具有以下特点：　　
- 保障公安部门在本系统中对信息的绝对主控权；
- 数字化。一切相关业务的交互通过电子设备和互联网进行；
    > 基于无纸化办公的普及，数字化身份的应用是无障碍的。
- 难伪造，易挂失；
    > ID 基于密码学公私钥签名技术。其中，私钥存储于手机的 TEE 可信执行环境，永远无法取出（若换手机，可以重新申请新 ID）。
- 身份证兼容，可替代或将 ID 内置于身份证；
    > 兼容，指基于身份证信息之上构建。
- 一 ID 通用，适用于全场景实名制业务需求，并支持冻结、挂失和变更等操作；
    > 大多数功能可在线自助操作，变更操作仅公安内部存档，对外无痕。
- 受控的强隐私保护。对公安透明，对服务提供方模糊，对业务实体匿名；
    > 基于密码学的交互模型，确保身份隐私仅受控于公安部门。而公网中仅流通可废止的 ID 号码，难以跟踪。
- 本地验证，可**取代 CA**。服务提供方在运行相关区块链节点的情况下，可以在本地进行基本的登录验证操作，分散服务压力；
    > 任何业务实体，以及民众个体之间亦可通过手机交互，互相核实身份；<br>
    > 基于区块链特有性质：各节点存储数据的实时性、一致性、可证明性；<br>
    > 和本模型的潜在事实：存在于区块链上的数据真实可靠。
- 事件互斥，可追溯；
    > 可确保在同一时刻操作的唯一性，可实现对泄露伪造等问题的及时发现，也便于公安对案件的分析追踪。
- 防篡改、公安备案与数字化追责。
    > 传统区块链忽略恶意，政务系统区块链应当追踪恶意；<br>
    > 追责过程可编程，大幅提高效率。


#### 三、区块链发挥的作用

阐明　混合模式

同步、证明 特性
受惠于区块链所具有的 **简单分布式数据库** 和 **状态转移** 功能，可简化部分业务操作。负载均衡，减少对公安服务接口的访问量。


- 分散化与负载均衡。借助区块链的分散化特性，配合公安数据由各地区分散存储的特点，链上的 ID -> url 数据结构使得区块链变成了负载均衡器；
    > 这里的 url 是该 ID 所代表的公民数据存储位置，具体指该公民所在地区公安局的信息服务接口地址。


公安系统内部需要存储个人 ID 的变更交接。这个区块链系统演变成某节点需要有选择地向外部节点披露某些信息。
 中成才の币兜
要考虑被坏人在线变更的问题。
 中成才の币兜
通过所获取的服务的时间和位置（也可 ID 化）信息，可以证明某段时间未干某事，或者被盗的证据。
 中成才の币兜
用户通过安全连接直接向公安系统内部申请交接，而外部系统看到的是一个 ID 的终止和另一个 ID 的产生。由于用户量较大，可以产生混淆效果。以避免用户的 ID 变更被跟踪。


本模型的基本逻辑：

- 以公安部门为身份管理的主体和核心，

公安机关作为人口管理的核心职能部门，


身份对人口管理以及打击违法犯罪活动起着至关重要的作用。


受惠于区块链所具有的 **简单分布式数据库** 和 **状态转移** 功能，可简化部分业务操作。



先假设一个系统，它具有哪些特性，这些特性能够解决什么问题 >>>

* 区块链有完整的证明逻辑，替代证书发行认证中心（CA）。

盗用的发现、警报提醒、冻结、挂失处理。


政策
无统一标准和操作模型，
企事业单位各自为政


满足对企业toC业务必须对用户实名制要求，并可强化隐私保护。

#### _需求_

通用性，适合全场景业务模型。
身份证兼容
公安认证、信息收集与追踪：对公安系统内部，一切数据可查询，包括：基本信息、信用记录、犯罪记录等。
隐私保护：对一般实体匿名。
防篡改模型与数字化追责。

#### _启发_

将 ID 与查询服务 url 绑定，区块链 := 负载均衡。

区块链承担了？？？什么的 纽带作用


确保授权认证过程的便捷

追责：操作记录保存。

#### 四、实施步骤


### 五、应用示例

通过 ID 去租赁房屋，合同签订即可获得住址。

